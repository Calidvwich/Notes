# 1. 操作系统概述
操作系统：一组主管和控制计算机操作，运用和运行硬件，软件资源和提供公共服务来组织用户交互的相互关联的系统软件程序。
	作用：管理/配置内存；决定资源使用的先后顺序，控制输入输出设备，操作系统和管理文件系统等，也是用户和系统交互的页面
特征：
	1. 并发：两个/多个活动在同一给定的时间间隔中进行
	2. 共享：计算机系统中的资源被多个进程公用
	3. 异步：进程以不可预知的速度向前推及
	4. 虚拟：把一个物理上的实体对应为多个逻辑上的对应物
	最基本的特征是并发和共享，二者互为存在条件
并发VS并行：同一时间间隔是并发，同一时刻是并行
虚拟：将计算机的实体资源抽象转化后呈现的一个可供分割，组合的一个/多个电脑配置环境。可以打破实体之间的阻碍，能够更好更高效地利用资源。
功能：
	1. 处理机管理：主要功能包括进程控制，进程同步，进程通信，死锁处理，处理机调度等
	2. 存储器管理：包括内存分配，地址映射，内存保护与共享，内存扩充等
	3. 文件管理：包括文件存储空间管理，目录管理，文件读写管理和保护等
	4. 设备管理：缓冲管理，设备分配，设备处理，虚拟设备等
	5. 用户接口
发展历程：
	1. 手工操作阶段：人机系统速度矛盾
	2. 单道批处理阶段：缓解人机系统速度矛盾，系统资源利用率仍然低
	3. 多道批处理阶段：资源利用率高，但是交互性不足
		1. 分时操作系统：不允许插队，有人机交互，但是不能优先处理紧急事务
		2. 实时操作系统：允许插队，能够优先处理紧急事务，包含硬实时系统（必须在被控制对象规定时间内完成）和软实时系统（可以略松一些，比如购票系统）
		从可靠性看，实时操作系统更强；从交互性看，分时操作系统更强
基本概念：
特权指令：不允许用户使用，比如IO指令，中断指令
非特权指令：普通的运算指令，允许用户使用
内核程序：系统的管理者，可以执行一切指令，运行在核心态
应用程序：普通用户程序只能执行非特权指令，运行在用户态
处理机状态：用户态/目态，核心态/管态/内核态
用户态到核心态：中断
核心态到用户态：依靠特权指令psw的标志位，0是用户态，1是核心态
原语：处在操作系统最底层的程序，是最接近硬件的部分；运行具有原子性，操作不可中断；程序运行时间较短，调用较为频繁
中断：包含内中断（异常，信号来自内部，分为自愿中断/指令终端，和强迫中断/硬件or软件中断）和外中断（中断，信号来自外部，一般包括外设请求和人工干预等）
中断是系统调用系统给程序员/程序的唯一接口，可以获得OS的服务并进入内核态处理
体系结构：包含大内核，微内核
![[Pasted image 20250131192913.png]]
